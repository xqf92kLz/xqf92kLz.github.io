## 知识点

### 微分中值定理

- 函数的极值：函数的极值是局部的概念。函数在区间端点处不存在极值，极值点 $x_0$ 一定是定义域的内点（某邻域内有定义）。极大值可以比极小值小。

- 费马（Fermat）定理：设 $f(x)$ 在点 $x_0$ 处取到极值，且 $f'(x_0)$ 存在，则 $f'(x_0)=0$。

	??? note "证明"
	
        不妨设 $f(x)$ 在点 $x_0$ 处取到极大值，则 $f_-'(x_0)=\lim\limits_{x\to x_0^-}\dfrac{f(x)-f(x_0)}{x-x_0}\geq 0$，$f_+'(x_0)=\lim\limits_{x\to x_0^+}\dfrac{f(x)-f(x_0)}{x-x_0}\leq 0$。
        
        而 $f'(x_0)$ 存在，因此 $f_-'(x_0)=f_+'(x_0)=f'(x_0)$，故 $f'(x_0)=0$。

	- 推论：可能取到极值的点，要么不可导，要么导数为 $0$（驻点：导数为 $0$ 的点）。

- 【拓展】达布（Darboux）定理：设 $f(x)$ 在 $[a,b]$ 上可导，且 $f_+'(a)f_-'(b)<0$，则 $\exists \xi\in(a,b)$ 使得 $f'(\xi)=0$。
	
	??? note "证明"
		
		$f(x)$ 在 $[a,b]$ 连续，则 $f(x)$ 在 $[a,b]$ 存在最值。
			
		不妨设 $f_+'(a)>0$，$f_-'(b)<0$，于是：
  	  
		- $f_+'(a)=\lim\limits_{x\to a^+}\dfrac{f(x)-f(a)}{x-a}>0\Rightarrow \exists \delta_1>0$，在 $(a,a+\delta_1)$ 内，$f(x)>f(a)$
  	  
		- $f_-'(b)=\lim\limits_{x\to b^-}\dfrac{f(x)-f(b)}{x-b}<0\Rightarrow \exists \delta_2>0$，在 $(b-\delta_2,b)$ 内，$f(x)>f(b)$。
  	  
		故 $f(a)$ 与 $f(b)$ 均不是 $f(x)$ 在 $[a,b]$ 上的最大值，则 $f(x)$ 在 $(a,b)$ 内取到最大值。根据费马定理可知，最大值点处导数为 $0$。
	
	那么，若 $f'(x)$ 不存在零点，则 $f'(x)$ 在 $(a,b)$ 内不会变号。
	
	??? info "导函数的介值性"
	
        设 $f(x)$ 在 $[a,b]$ 上可导，且 $f_+'(a)\neq f_-'(b)$，则对任意介于 $f_+'(a)$ 与 $f_-'(b)$ 之间的 $\mu$，$\exists \xi\in(a,b)$ 使得 $f'(\xi)=\mu$。
        
        ???+ tip
            设 $f'(x)$ 在 $[a,b]$ 上存在。$f'(x)$ 在 $[a,b]$ 上未必连续，但 $f'(x)$ 仍具有介值性。由此可得，定义在区间 $I$ 上有第一类间断点的函数不存在原函数。

- 罗尔（Rolle）定理：设 $f(x)$ 在 $[a,b]$ 上连续，在 $(a,b)$ 内可导，且 $f(a)=f(b)$，则 $\exists\xi\in(a,b)$ 使得 $f'(\xi)=0$。

	??? note "证明"
		由于 $f(x)$ 在 $[a,b]$ 连续，故 $f(x)$ 在 $[a,b]$ 上有最大值 $M$ 和最小值 $m$。【最大值最小值定理】
		
		- 若 $M=m$，则 $f(x)$ 为常函数，结论显然成立。
		
		- 若 $M\neq m$：由于 $f(a)=f(b)$，故最大值 $M$ 与最小值 $m$ 不能同时在端点 $a,b$ 取到。不妨设 $\exists \xi\in(a,b)$ 使得 $f(\xi)=M$，则 $f(x)$ 在 $x=\xi$ 处取到极大值。根据费马定理，$f'(\xi)=0$。
	
	??? info "推广的罗尔（Rolle）定理"
	
        - 设 $f(x)$ 在 $(a,b)$ 内可导，$\lim\limits_{x \to a^+} f(x) = \lim\limits_{x \to b^-} f(x) = A$，则在 $(a,b)$ 内至少存在一点 $\xi$，使 $f'(\xi) = 0$。
        - 设 $f(x)$ 在 $(a,b)$ 内可导，$\lim\limits_{x \to a^+} f(x) = \lim\limits_{x \to b^-} f(x) = \pm\infty$，则在 $(a,b)$ 内至少存在一点 $\xi$，使 $f'(\xi) = 0$。
        - 设 $f(x)$ 在 $(a,+\infty)$ 内可导，$\lim\limits_{x \to a^+} f(x) = \lim\limits_{x \to +\infty} f(x) = A$，则在 $(a,+\infty)$ 内至少存在一点 $\xi$，使 $f'(\xi) = 0$。
        - 设 $f(x)$ 在 $(-\infty,+\infty)$ 内可导，$\lim\limits_{x \to -\infty} f(x) = \lim\limits_{x \to +\infty} f(x) = \pm\infty$，则在 $(-\infty,+\infty)$ 内至少存在一点 $\xi$，使 $f'(\xi) = 0$。

	- 推论：若 $f^{(n)}(x)$ 至多有 $k$ 个根，则 $f(x)=0$ 至多有 $k+n$ 个根。

- 拉格朗日（Lagrange）中值定理：设 $f(x)$ 在 $[a,b]$ 上连续，在 $(a,b)$ 内可导，则 $\exists \xi\in(a,b)$ 使得 $f(b)-f(a)=f'(\xi)(b-a)$（或 $f'(\xi)=\frac{f(b)-f(a)}{b-a}$）。

	注：$\xi$ 常记作 $\xi=a+\theta(b-a)$，其中 $\theta\in(0,1)$。

	??? note "证明"
  	
		??? note "法 1"
  		
			???+ abstract
  			
				$f'(\xi)-\dfrac{f(b)-f(a)}{b-a}=0$
		
				考虑构造 $F(x)$ 使得 $F'(x)=f'(x)-\dfrac{f(b)-f(a)}{b-a}$，且 $F(x)$ 在 $[a,b]$ 上连续，在 $(a,b)$ 内可导，$F(a)=F(b)$，然后对 $F(x)$ 应用罗尔定理。
		
				则 $F(x)=f(x)-\dfrac{f(b)-f(a)}{b-a}x$。
		
				不过为了方便计算端点值，可以改进成 $F(x)=f(x)-\dfrac{f(b)-f(a)}{b-a}(x-a)$（不改变 $F'(x)$）。
		
				为了几何意义明显，可以继续改进成 $F(x)=f(x)-[f(a)+\dfrac{f(b)-f(a)}{b-a}(x-a)]$（曲线 $y=f(x)$ 减去弦 $AB$ 所得的曲线，其端点函数值为 $0$）。
  		
			构造函数 $F(x)=f(x)-[f(a)+\dfrac{f(b)-f(a)}{b-a}(x-a)]$。则 $F'(x)=f'(x)-\dfrac{f(b)-f(a)}{b-a}$。
  		
			$F(x)$ 在 $[a,b]$ 上连续，在 $(a,b)$ 内可导，且 $F(a)=F(b)=0$。根据罗尔定理，$\exists \xi\in(a,b)$ 使得 $F'(\xi)=0$，即 $\dfrac{f(b)-f(a)}{b-a}=f'(\xi)$。
  	
		??? note "法 2"
		
			构造函数 $F(x)=\begin{vmatrix}x&f(x)&1\\a&f(a)&1\\b&f(b)&1\end{vmatrix}$（几何意义是 $S_{\triangle PAB}$，其中 $P(x,f(x)),A(a,f(a)),B(b,f(b))$）。
		
			则 $F'(x)=\begin{vmatrix}1&f'(x)&0\\a&f(a)&1\\b&f(b)&1\end{vmatrix}=\begin{vmatrix}1&f'(x)&0\\a&f(a)&1\\b-a&f(b)-f(a)&0\end{vmatrix}\xlongequal{按R_1展开}(b-a)f'(x)-(f(b)-f(a))$
		
			$F(x)$ 在 $[a,b]$ 上连续，在 $(a,b)$ 内可导，且 $F(a)=F(b)=0$。根据罗尔定理，$\exists \xi\in(a,b)$ 使得 $F'(\xi)=0$，即 $\dfrac{f(b)-f(a)}{b-a}=f'(\xi)$。
		
			???+ tip "行列式的求导"
				设 $f(x)=|a_{ij}(x)|_{n}=\begin{vmatrix}a_{11}(x)&a_{12}(x)&\cdots&a_{1n}(x)\\a_{21}(x)&a_{22}(x)&\cdots&a_{2n}(x)\\\vdots&\vdots&\ddots&\vdots\\a_{n1}(x)&a_{n2}(x)&\cdots&a_{nn}(x)\end{vmatrix}$
		
				由于 $f(x)=\sum_{j_1j_2\cdots_n}(-1)^{\tau(j_1j_2\cdots j_n)}a_{1j_1}(x)a_{2j_2(x)}\cdots a_{nj_n}(x)$，则 $f'(x)=\sum_{k=1}^n \sum_{j_1j_2\cdots j_n}(-1)^{\tau(j_1j_2\cdots j_n)}a_{1j_1}(x)\cdots [a_{kj_k}(x)]'\cdots a_{nj_n}(x)=\sum_{k=1}^n\begin{vmatrix}a_{11}(x)&a_{12}(x)&\cdots&a_{1n}(x)\\\vdots&\vdots&\ddots&\vdots\\a_{k1}'(x)&a_{k2}'(x)&\cdots&a_{kn}'(x)\\\vdots&\vdots&\ddots&\vdots\\a_{n1}(x)&a_{n2}(x)&\cdots&a_{nn}(x)\end{vmatrix}$

- 柯西（Cauchy）中值定理：设 $f(x),g(x)$ 在 $[a,b]$ 上连续，在 $(a,b)$ 内可导，且 $g'(x)\neq 0$，则 $\exist \xi\in(a,b)$ 使得 $\frac{f(b)-f(a)}{g(b)-g(a)}=\frac{f'(\xi)}{g'(\xi)}$。

	??? note "证明"
		
		???+ failure "错误证法"
			对 $f,g$ 分别在 $[a,b]$ 上应用拉格朗日中值定理，有 $f(b)-f(a)=f'(\xi)(b-a)$，$g(b)-g(a)=g'(\xi)(b-a)$，两式相除即得结论。
			
			错因：$f(x)$ 和 $g(x)$ 对应的可能不是同一个 $\xi$。
		
		???+ success "正确证法"
			
			???+ abstract
				$[f(b)-f(a)]g'(x)-[g(b)-g(a)]f'(x)=0$
				
				构造 $F(x)$ 使得 $F'(x)=[f(b)-f(a)]g'(x)-[g(b)-g(a)]f'(x)$，对 $F(x)$ 应用罗尔定理。
				
				则 $F(x)=[f(b)-f(a)]g(x)-[g(b)-g(a)]f(x)$。
				
				为了方便求端点值，改进成 $F(x)=[f(b)-f(a)][g(x)-g(a)]-[g(b)-g(a)][f(x)-f(a)]$（不改变 $F'(x)$）。
			
			构造函数 $F(x)=[f(b)-f(a)][g(x)-g(a)]-[g(b)-g(a)][f(x)-f(a)]$。
			
			$F(x)$ 在 $[a,b]$ 上连续，在 $(a,b)$ 内可导，且 $F(a)=F(b)=0$。根据罗尔定理，$\exists \xi\in(a,b)$ 使得 $F'(\xi)=0$，即 $[f(b)-f(a)]g'(x)-[g(b)-g(a)]f'(x)=0$。
			
			对 $g(x)$，若 $g(a)=g(b)$，由罗尔定理，$\exists \xi\in(a,b)$ 使得 $g'(\xi)=0$，与 $g'(x)\neq 0$ 矛盾。因此，$g(a)\neq g(b)$。
			
			那么由于 $g'(\xi)\neq 0$，$g(a)\neq g(b)$，则 $\dfrac{f(b)-f(a)}{g(b)-g(a)}=\dfrac{f'(\xi)}{g'(\xi)}$。

- 函数的单调区间与极值

### 未定式的极限

- $\frac 0 0$ 型未定式的极限
- $\frac{\infty}{\infty}$ 型未定式的极限
- 其他类型未定式的极限

### 泰勒定理及应用

- 泰勒定理
- 几个常用函数的麦克劳林公式
- 带有佩亚诺余项的泰勒公式
- 泰勒公式的应用

## 题目

- 构造辅助函数
		
	??? tip
		- $[x^{\lambda}f(x)]'=x^{\lambda-1}(\lambda f(x)+xf'(x))$
		
			见到 $\lambda f(x)+xf'(x)$，作 $F(x)=x^{\lambda}f(x)$。
		
		- $[f(x)e^{\varphi(x)}]'=[f'(x)+f(x)\varphi'(x)]e^{\varphi(x)}$
	
  	      见到 $f'(x)+f(x)\varphi'(x)$，作 $F(x)=f(x)e^{\varphi(x)}$。
	
  	      如 $f'(x)+kf(x)$ 作 $F(x)=f(x)e^{kx}$，$f'(x)+(\dfrac 1 x-1)f(x)$ 作 $F(x)=f(x)e^{\ln x-x}=f(x)xe^{-x}$。
  	  
  	  - 常数的处理：如 $f'(x)+f(x)=1$，$\Rightarrow [f(x)-1]'+f(x)-1=0$，构造 $F(x)=e^x[f(x)-1]$。$f'(x)-\lambda[f(x)-x]=1$，$\Rightarrow [f(x)-x]'-\lambda[f(x)-x]=0$，构造 $F(x)=e^{-\lambda x}[f(x)-x]$。

- 罗尔定理：

	??? example "例题"
		证明：$a_1\cos x+a_2\cos 2x+\cdots+a_n\cos nx=0$ 在 $(0,\pi)$ 内至少有一个根。
		
		??? note "解答"
			???+ abstract
				若考虑 $f(x)=a_1\cos x+a_2\cos 2x+\cdots+a_n\cos nx$，尽管 $f$ 在 $[0,\pi]$ 上连续，但 $f(0)=\sum_{k=1}^n a_k$，$f(\pi)=\sum_{k=1}^n (-1)^k a_k$，无法判断 $f(0)\cdot f(\pi)$ 的符号。
				
			令 $f(x)=a_1\sin x+\dfrac{a_2}2\sin 2x+\cdots+\dfrac{a_n}n\sin nx$，则 $f(x)$ 在 $[0,\pi]$ 上连续，在 $(0,\pi)$ 内可导，且 $f(0)=f(\pi)=0$。
			
			根据罗尔定理，$\exists \xi \in(0,\pi)$ 使得 $f'(\xi)=0$，而 $f'(x)=a_1\cos x+a_2\cos 2x+\cdots+a_n\cos nx$，故 $a_1\cos x+a_2\cos 2x+\cdots+a_n\cos nx=0$ 在 $(0,\pi)$ 内至少有一个根。

- 拉格朗日中值定理：见到“$f-f$”或者“$f$ 与 $f'$ 关系”时

	??? example "例题"
    	设 $a > b > 0$，$n > 1$，证明：$nb^{n-1}(a - b) < a^n - b^n < na^{n-1}(a - b)$。

		??? note "解答"
			设 $f(x) = x^n$，显然 $f(x)$ 在区间 $[b, a]$ 上连续，在 $(b, a)$ 内可导，于是由拉格朗日中值定理：
			
			$f(a) - f(b) = f'(\xi)(a - b)$，$\xi \in (b, a)$
			
			$a^n - b^n = n\xi^{n-1}(a - b)$
			
			由于 $0 < b < \xi < a$，$n > 1$，有 $nb^{n-1}(a - b) < a^n - b^n = n\xi^{n-1}(a - b) < na^{n-1}(a - b)$。
		
		设函数 $f(x)$ 在 $[0,1]$ 上连续，在 $(0,1)$ 内可导，且 $f(0)=0$，$f(1)=1$，证明：对 $\forall a,b>0$，$\exists \xi_1,\xi_2 \in (0,1)$ 且 $\xi_1\neq \xi_2$，使得 $\dfrac{a}{f'(\xi_1)} + \dfrac{b}{f'(\xi_2)} = a+b$。
		
		??? note "解答"
			取 $\xi \in (0,1)$，$f(\xi) \neq 0,1$，用 $\xi$ 将 $[0,1]$ 划分为 $[0,\xi]$，$[\xi,1]$。在这两个区间上分别对 $f(x)$ 使用拉格朗日中值定理，得：
			
			- $f(\xi) - f(0) = f'(\xi_1)(\xi - 0) \Rightarrow \dfrac{1}{f'(\xi_1)} = \dfrac{\xi}{f(\xi)}$，$\xi_1 \in (0,\xi)$
			
			- $f(1) - f(\xi) = f'(\xi_2)(1 - \xi) \Rightarrow \dfrac{1}{f'(\xi_2)} = \dfrac{1 - \xi}{1 - f(\xi)}$，$\xi_2 \in (\xi,1)$
			
			则只需证 $\dfrac{\frac{a}{a+b}\xi}{f(\xi)} + \dfrac{\frac{b}{a+b}(1 - \xi)}{1 - f(\xi)} = 1$ 即可。
			
			???+ abstract
				取 $f(\xi)=\xi$：找不到。
				
				取 $f(\xi)=\dfrac{a}{a+b}$：可行。
			
			于是可取 $f(\xi) = \dfrac{a}{a+b}$（由介值定理知这样的 $\xi$ 存在），则 $\dfrac{a\xi}{f(\xi)} + \dfrac{b(1 - \xi)}{1 - f(\xi)} = (a+b)(\xi+1-\xi)=a+b$。
		
		设 $f(x)$ 在 $[0,1]$ 上连续，在 $(0,1)$ 内可导，$f(0)=0$，$f(1)=1$，对 $\forall k_i>0\,(i=1,2,\cdots,n)$。证明：$\exists$ 严格递增的 $\xi_i\in(0,1)\,(i=1,2,\cdots,n)$，使得 $\sum_{i=1}^n\dfrac{k_i}{f'(\xi_i)}=\sum_{i=1}^n k_i$。
		
		??? note "证明"
			由连续函数的介值定理，$\exists 0<x_1<x_2<\cdots<x_n=1$ 使得 $f(x_i)=\dfrac{\sum_{j=1}^i k_j}{\sum_{j=1}^n k_j}\,(i=1,2,\cdots,n)$。
			
			在区间 $[x_{i-1},x_i]$ 上应用拉格朗日中值定理：$\exists \xi_i\in(x_{i-1},x_i)$ 使得 $f(x_i)-f(x_{i-1})=\dfrac{k_i}{\sum_{j=1}^n k_j}=f'(\xi_i)(x_i-x_{i-1})\Rightarrow \dfrac{k_i}{f'(\xi_i)}=(x_i-x_{i-1}){\sum_{j=1}^n k_j}$。
			
			因此 $\sum_{i=1}^n \dfrac{k_i}{f'(\xi_i)}=(\sum_{i=1}^n x_i-x_{i-1})\sum_{j=1}^n k_j=\sum_{j=1}^n k_j$。
		
		设 $f(x)$ 在 $[0,c]$ 上连续，$f'(x)$ 在 $(0,c)$ 存在且单调递减，且 $f(0)=0$。证明：$f(a+b)\leq f(a)+f(b)$，其中 $0\leq a\leq b\leq a+b\leq c$。
		
		??? note "解答"
	
  	      当 $a=0$ 时，由 $f(0)$ 知成立。
	
  	      当 $a>0$ 时，在 $[0,a]$ 和 $[b,a+b]$ 上分别应用拉格朗日中值定理，$f(a)-f(0)=f'(\xi_1)a$，$f(a+b)-f(b)=f'(\xi_2)a$，由于 $\xi_1<\xi_2$ 且 $f'(x)$ 单调递减，则 $f'(\xi_1)\geq f'(\xi_2)$，故 $f(a)\geq f(a+b)-f(b)$，得证。