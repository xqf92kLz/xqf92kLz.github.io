## 知识点

### 不定积分的概念

- 原函数：设 $f(x)$ 在区间 $I$ 上有定义，若存在可导函数 $F(x)$ 满足 $\forall x\in I,F'(x)=f(x)$，则称 $F(x)$ 为 $f(x)$ 在区间 $I$ 上的一个原函数。

	???+ info "原函数的存在性-不定积分的可积"
		- 连续函数一定存在原函数。（非连续函数也可能有原函数）
		
		- 含第一类间断点的函数，不存在原函数。（含第二类间断点的函数，可能存在原函数。如 $F(x)=\begin{cases}x^2\sin\frac 1 x&(x\neq 0)\\0&(x=0)\end{cases}$，设 $f(x)=F'(x)$，则 $x=0$ 是 $f(x)$ 的第二类间断点，但其存在原函数 $F(x)$）

- 不定积分：$f(x)$ 的所有原函数组成的集合称为 $f(x)$ 的不定积分，记作 $\int f(x)\text dx$。若 $F'(x)=f(x)$，则 $\int f(x)\text dx=F(x)+C$，其中，$f(x)$ 称为被积函数，$f(x)\text dx$ 称为被积表达式，$x$ 称为积分变量，$C$ 称为积分常数，$\int$ 称为不定积分号。

- 不定积分的性质

	若 $f(x),g(x)$ 在区间 $I$ 上存在原函数 $F(x),G(x)$，则
	
	- $[\int f(x)\text dx]'=f(x)$
	- $\int F'(x)\text dx=F(x)+C$
	- $\int [f(x)+g(x)]\text dx=\int f(x)\text dx+\int g(x)\text dx$
	- $\int kf(x)\text dx=k\int f(x)\text dx$

- 基本积分

	$\int \text dx=x+C$
	
	$\int x^{\alpha}\text dx=\frac{x^{\alpha +1}}{\alpha+1}+C\,(\alpha\neq -1)$，$\int \frac 1 x \text dx=\ln |x|+C$，$\int a^x\text dx=\frac{a^x}{\ln a}+C\,(a>0,a\neq 1)$，$\int e^x\text dx=e^x+C$
	
	$\int \cos x\text dx=\sin x+C$，$\int \sin x\text dx=-\cos x+C$，$\int \sec^2 x\text dx=\tan x+C$，$\int \sec x\tan x\text dx=\sec x+C$，$\int \csc^2 x\text dx=-\cot x+C$，$\int \csc x\cot x\text dx=-\csc x+C$
	
	$\int \frac{1}{\sqrt{1-x^2}}\text dx=\arcsin x+C$ 或 $-\arccos x+C$，$\int \frac{1}{1+x^2}\text dx=\arctan x+C$ 或 $-\text{arccot }x+C$
	
	$\int \text{sinh }x\text dx=\text{cosh }x+C$，$\int \text{cosh }x\text dx=\text{sinh }x+C$

	??? example "例题-直接积分法"
		计算：（1）$\int \dfrac{x^3+3x^2+x-3}{x^2+1}\text dx$；（2）$\int (e^{2x}\pi^x)\text dx$；（3）$\int \sqrt{x\sqrt[3]{x^2}}\text dx$。
		
		??? note "解答"
			（1）$=\int \dfrac{(x^3+x)+(3x^2+3)-6}{x^2+1}\text dx=\int (x+3-\dfrac 6 {x^2+1})\text dx=\dfrac 1 2 x^2+3x-6\arctan x+C$
		
			（2）$=\int (e^2\pi)^x\text dx=\dfrac{(e^2\pi)^x}{\ln(e^2\pi)}+C$
			
			（3）$=\int x^{\frac 5 6}\text dx=\dfrac 6 {11} x^{\frac {11} 6}+C$
		
		计算：（1）$\int \sin^2\frac x 2\text dx$；$\int \dfrac{1}{\sin^2 x\cos^2 x}\text dx$；（3）$\int \tan^2 x\text dx$。
		
		??? note "解答"
			（1）$=\int \dfrac{1-\cos x}2\text dx=\dfrac 1 2 (x-\sin x)+C$
		
			（2）$=\int\dfrac{\sin^2 x+\cos^2 x}{\sin^2 x\cos^2 x}\text dx=\int \sec^2 x\text dx+\int \csc^2 x\text dx=\tan x-\cot x+C$
			
			（3）$=\int (\sec^2 x-1)\text dx=\tan x-x+C$
		
		**分段函数的积分：**注意 $F(x)$ 可导 $\Rightarrow$ $F(x)$ 连续
		
		设 $f(x)=\begin{cases}\cos x-x^2+1&(x\leq 0)\\2e^x&(x>0)\end{cases}$，求：$\int f(x)\text dx$。
		
		??? note "解答"
			由于 $f(x)$ 在 $(-\infty,+\infty)$ 上连续，则 $f(x)$ 的原函数存在。
			
			- 当 $x\leq 0$ 时，$\int f(x)\text dx=\int (\cos x-x^2+1)\text dx=\sin x-\dfrac 1 3 x^3+x+C_1$。
			- 当 $x>0$ 时，$\int f(x)\text dx=\int 2e^x\text dx=2e^x+C_2$。
			
			故 $F(x)=\begin{cases}\sin x-\frac 1 3 x^3+x+C_1&(x\leq 0)\\2e^x+C_2&(x>0)\end{cases}$。
			
			由于 $F(x)$可导，故 $F(x)$ 在 $(-\infty,+\infty)$ 上连续。而 $F(0-0)=C_1$，$F(0+0)=2+C_2$，则 $C_1=C_2+2$。
			
			故 $F(x)=\begin{cases}\sin x-\frac 1 3 x^3+x+C+2&(x\leq 0)\\2e^x+C&(x>0)\end{cases}$。
		
		???+ warning "注意"
			分段函数的积分，要确保原函数在分界点处的连续性。
		
### 不定积分的几种基本方法

- 凑微分法（第一换元法）

	设 $F(u)$ 可导，$F'(u)=f(u)$，$u=\varphi(x)$ 可导，则 $\int f(\varphi(x))\varphi'(x)\text dx=\int f(\varphi(x))\text d(\varphi(x))=F(\varphi(x))+C$。
	
	??? note "证明"
		由于 $[F(\varphi(x))]'=F'(\varphi(x))\varphi'(x)=f(\varphi(x))\varphi'(x)$，所以 $\int f(\varphi(x))\varphi'(x)\text dx=F(\varphi(x))+C$。
	
	常见的凑微分公式
	
	$\text dx=\frac 1 a \text d(ax+b)\,(a\neq 0)$，$e^x\text dx=\text d(e^x)$，$\frac 1 x\text dx=\text d(|\ln x|)$
	
	$x\text dx=\frac 1 2 \text d(x^2)=\frac 1 2 \text d(x^2\pm a^2)=-\frac 1 2 \text d(a^2-x^2)$
	
	$\sin x\text dx=-\text d(\cos x)$，$\cos x\text dx=\text d(\sin x)$，$\sec^2 x\text dx=\text d(\tan x)$，$\sec x\tan x\text dx=\text d(\sec x)$
	
	$\frac{1}{1+x^2}\text dx=\text d(\arctan x)$，$\frac{1}{\sqrt{1-x^2}}\text dx=\text d(\arcsin x)$
	
	$\frac{1}{2\sqrt x}\text dx=\text d(\sqrt x)$，$\frac{x}{\sqrt{a^2\pm x^2}}\text dx=\frac{1}{2\sqrt{a^2\pm x^2}}\text d(x^2)=\pm \text d(\sqrt{a^2\pm x^2})$
	
	$\int \frac{1}{ax+b}\text dx=\frac 1 a \ln|ax+b|+C\,(a\neq 0)$
	
	$\int \frac{1}{x^2-a^2}\text dx=\frac 1 {2a}\ln|\frac{x-a}{x+a}|+C$
	
	$\int \frac{1}{x^2+a^2}\text dx=\frac 1 a\arctan \frac x a+C$
	
	$\int \frac{1}{\sqrt{a^2-x^2}}\text dx=\arcsin \frac x a+C\,(a>0)$
	
	$\int \tan x\text dx=-\ln|\cos x|+C$
	
	$\int \cot x\text dx=\ln|\sin x|+C$
	
	$\int \sec x\text dx=\ln|\sec x+\tan x|+C=-\ln|\sec x-\tan x|+C$
	
	$\int \csc x\text dx=\ln|\csc x-\cot x|+C=-\ln|\csc x+\cot x|+C$
	
	$\int\frac{1}{\sqrt{x^2+a^2}}\text dx=\ln(x+\sqrt{x^2+a^2})+C$
	
	$\int \sqrt{a^2-x^2}\text dx=\frac x 2\sqrt{a^2-x^2}+\frac{a^2}2\arcsin\frac x a+C\,(a>0)$
	
	$\int \sqrt{x^2\pm a^2}\text dx=\frac x 2\sqrt{x^2\pm a^2}+\frac{a^2}2\ln(x+\sqrt{x^2\pm a^2})+C\,(a>0)$
	
	$\int \sec^3 x\text dx=\frac 1 2\sec x\tan x+\frac 1 2\ln|\sec x+\tan x|+C$
	
	??? example "例题"
		计算：$\int \dfrac{\text dx}{x^2-a^2}$。
		
		??? note "解答"
			$=\dfrac 1 {2a}\int (\dfrac 1 {x-a}-\dfrac 1{x+a})\text dx=\dfrac 1 {2a}\ln|\dfrac{x-a}{x+a}|+C$
	
		计算：$\int \dfrac{\text dx}{x^2+a^2}\,(a\neq 0)$。
		
		??? note "解答"
			$=\dfrac 1 {a^2}\cdot a\cdot \int \dfrac{\text d(\frac x a)}{(\frac x a)^2+1}=\dfrac 1 a \arctan \dfrac x a+C$
		计算：$\int \dfrac{\text dx}{a^2\sin^2 x+b^2\cos^2 x}\,(ab\neq 0)$
		
		??? note "解答"
			$=\int \dfrac{1}{\cos^2 x}\cdot \dfrac{\text dx}{a^2\tan^2 x+b^2}=\int \dfrac{\text d(\tan x)}{a^2\tan^2 x+b^2}=\dfrac 1 {b^2}\cdot \dfrac b a\cdot \int \dfrac{\text d(\frac a b \tan x)}{(\frac a b\tan x)^2 x+1}=\dfrac 1 {ab}(\arctan \dfrac a b \tan x)+C$
- 变量代换法（第二换元法）
- 分部积分法

### 某些特殊类型函数的不定积分

- 有理函数的不定积分
- 三角函数有理式的不定积分
- 某些无理函数的不定积分