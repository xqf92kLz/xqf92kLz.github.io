提纲：

- 基础操作
- 野指针、空指针、通用指针
- 数组与指针
- 指针的指针（二级指针）
- 指针与字符串
- 函数指针
- 结构指针
- malloc() 与 free()
- 链表

---

相关辨析：

- 数组 vs 指针

  ```cpp
  char a[100]="ABC";
  char *p=a;	//或 char *p=&a[0];
  ```

  相同点：`p[i]==a[i]`，`*(p+i)==*(a+i)`

  不同点：`sizeof(a)` 与 `sizeof(p)` 不同，`a="XYZ"` 会 CE、`p="XYZ"` 不会 CE，`&a` 与 `&p` 类型不同

- `*` 的优先级高于 `+`。

  ```cpp
  char a[3][4];
  ```

  `a`：`&a[0]`

  `a+i`：`&a[i]`

  `*(a+i)`：`a[i]`，`&a[i][0]`

  `*(a+i)+j`：`a[i]+j`，`&a[i][j]`

  `**(a+i)`：`*a[i]`，`a[i][0]`

  `*(*(a+i)+j)`：`*(a[i]+j)`，`a[i][j]`

- 数组指针

  ```cpp
  int a[3][4];
  int (*p)[4];	//p 是数组指针，它指向了一个由 4 个 int 构成的一维数组
  p=&a[0];
  ```

  `a[i][j]`：`*(*(p+i)+j)`，`*(p[i]+j)`，`(*(p+i))[j]`，`p[i][j]`

  注意 `*` 的优先级高于 `+`。

  `*p`：`a[0]`，`&a[0][0]`

  `*p+i`：`a[0]+i`，`&a[0][i]`

  `*(p+i)`：`a[i]`，`&a[i][0]`

  `**p`：`*a[0]`，`a[0][0]`

  `**(p+i)`：`*a[i]`，`a[i][0]`

  若将二维数组作为函数参数：定义 `int f(int a[3][4])` 实际上是 `int f(int (*a)[4])`。调用 `f(a)`实际上是 `f(&a[0])`。

  ```cpp
  int a[3][4];
  void f(int **a);       // ! 编译错误
  void f(int a[][]);     // ! 编译错误
  void f(int a[3][]);    // ! 编译错误
  void f(int a[3][4]);   // √
  void f(int a[][4]);	   // √
  void f(int (*a)[4]);   // √
  ```

- 指针数组 vs 数组指针

  `char *a[5];` vs `char (*a)[5];`

   `[]` 的优先级高于 `*`。

- 结构指针：注意 `.` 的优先级高于 `*`。例如 `struct st a[3],*p; p=&a[0];`，`*(p+i).name` 错误，`(*(p+i)).name` 正确，`(p+i)->name` 正确。