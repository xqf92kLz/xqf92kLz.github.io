- `FILE *fp`，FILE 是定义在 stdio.h 中的结构类型（用 typedef 把一个 struct 结构类型重新命名为 FILE），fp 是文件结构指针。

- 打开文件和关闭文件
	
	- `fp=fopen("abc.txt","r")`，fopen() 用来打开一个文件，第一个参数是文件名，第二个参数是文件打开模式。打开成功返回文件指针，失败返回空指针 NULL。
	
        "r" 表示只读，"w" 新建文件只写，"a" 追加，"r+" 读/写，"w+" 新建文件读/写，"a+" 读/写/追加。w 开头的方式会先删除老文件再创建新文件，r 开头的方式要求文件已存在。
    
        `FILE *fp2=fopen("d:\\tc\\xyz.txt“,"w")`，注意指定文件目录要双反斜杠。
    
    - `fclose(fp)`，fclose() 用来关闭文件指针关联的文件，必须调用。成功返回 0，失败返回 EOF。

- 文件读写

	- fgetc() 和 fputc()
	
		`c=fgetc(fp)`，fgetc() 从文件中读取一个 char，但返回值类型是 int（不是 char）。成功则返回字符的 ASCII 码，失败返回 EOF（-1）。

    	`fputc(c,fp2)`，fputc() 把一个 char 写入文件。成功返回写入的字符的 ASCII 码，失败返回 EOF。
    
    - fgets() 和 fputs()
    
        `fgets(s,n,fp)` 从文件中读取一行字符串保存到 s 中。

        - n：最多读取 n-1 个字符（留一个位置给 '\0'），存入指针 s 所指向内存地址开始的 n-1 个连续的内存单元。
        - 读取停止条件：读满 n-1 个字符，或遇到换行符 '\n'（会被保存到 s。区别于 gets）、文件结束标志 EOF（不会被保存到 s）。
        - 返回值：成功返回 s 的地址，失败返回 NULL。


        `fputs(s,fp)` 写入一行字符串到文件中。
    
        - 仅写入 s 中 '\0' 之前的内容，不会自动追加 '\n'（区别于 puts）。
        - 若需要换行，需手动在字符串末尾加 "\n"（如 fputs("hello\n", fp)）。
        - 返回值：成功返回 s 的末字符，失败返回 EOF。
    
    - fscanf() 和 fprintf() 格式化读写
    
    	`fscanf(fp,"%d ",&x)`，按给定控制方式读文件。""%d " 会在读取整数后自动跳过后续所有空白字符（空格 / 换行 / 制表符）。返回值为成功读取的变量个数，失败返回 EOF。
    
    	`fprintf(fp2,"%d\n",x)`，按给定控制方式写文件。返回值为成功写入的字符数，失败返回 EOF。
    
    - fread() 和 fwrite() 数据块读写
    	
    	需要用 rb、wb、ab 表示二进制文件的读、写、追加。
    	
    	`fread(p,1,n,fp)` 读取二进制文件 fp 中的 n 个字节保存到 p 指向的内存块中；返回值为成功读取的项数。
    	
    	`fread(p,sz,n,fp)` 表示每次读 sz 个字节，读 n 次。
    
    	`fwrite(p,1,n,fp)` 把 p 指向的 n 个字节写入二进制文件 fp；返回值为成功写入的项数。

- 其他相关函数

	- `rewind(fp)` 将文件的读写指针重置到文件开头，无返回值。
	
	- `fseek(fp,offset,from)`
	- `ftell(fp)` 获取文件读写指针的位置，即相对于文件开头的位移量（字节数）。出错返回 1L。
	- `feof(fp)`，feof() 用来判断 “是否已触发文件尾错误”，已到文件尾返回非零，未到文件尾返回 0。

        `while(!feof(fp)) c=fgetc(fp);` 会多一次循环，读取到 EOF 后才触发 feof。
    
        不如先读取后判断，写成 `while((c=fgetc(fp))!=EOF)` 或 `while((c=fgetc(fp))!=-1)`，这里的 EOF 就是 -1。
    - `ferror(fp)`，若文件读写过程中没出错则返回 0，否则返回非零。
    - `clearerr(fp)`，清除出错标志和文件结束标志，使它们为 0 值。